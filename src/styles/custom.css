/* ==============================================
   HOW TO WIN CAPITALISM - CLEAN CSS
   ============================================== */

/* Custom design tokens */
:root {
  /* Colors */
  --color-bg: #ffffff;
  --color-text: #202122;
  --color-text-muted: #72777d;
  --color-link: #0645ad;
  --color-link-visited: #0b0080;
  --color-border: #a2a9b1;
  --color-border-light: #eaecef;
  --color-surface: #f8f9fa;
  --color-surface-alt: #eaecef;

  /* Semantic colors */
  --color-warning-bg: #fef6e7;
  --color-warning-border: #fc3;
  --color-info-bg: #eaf3ff;
  --color-info-border: #36c;

  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-serif: "Linux Libertine", Georgia, serif;
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, monospace;

  /* Success/error colors */
  --color-success-text: #22863a;
  --color-error-text: #cb2431;

  /* Font sizes */
  --text-2xs: 0.625rem;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;

  /* Line heights */
  --line-height: 1.6;
  --line-height-tight: 1.3;

  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;

  /* Borders */
  --border-width: 1px;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;

  /* Primary/accent */
  --color-primary: var(--color-link);

  /* Warning/caution */
  --color-warning: #f5a623;

  /* Error */
  --color-error: #e53e3e;
}

/* ==============================================
   STARLIGHT OVERRIDES FOR LIGHT MODE
   ============================================== */

/* Override Starlight's color system for light mode */
:root,
:root[data-theme="light"],
:root[data-theme="dark"] {
  --sl-color-white: #ffffff;
  --sl-color-gray-1: #f8f9fa;
  --sl-color-gray-2: #eaecef;
  --sl-color-gray-3: #c8ccd0;
  --sl-color-gray-4: #a2a9b1;
  --sl-color-gray-5: #72777d;
  --sl-color-gray-6: #54595d;
  --sl-color-black: #202122;

  /* Accent colors (blue) */
  --sl-color-accent-low: #d4e4f7;
  --sl-color-accent: #0645ad;
  --sl-color-accent-high: #003d99;

  /* Backgrounds */
  --sl-color-bg: var(--sl-color-white);
  --sl-color-bg-nav: var(--sl-color-white);
  --sl-color-bg-sidebar: var(--sl-color-gray-1);
  --sl-color-bg-inline-code: var(--sl-color-gray-2);

  /* Text */
  --sl-color-text: var(--sl-color-black);
  --sl-color-text-accent: var(--sl-color-white);

  /* Hairline borders */
  --sl-color-hairline: var(--sl-color-gray-3);
  --sl-color-hairline-light: var(--sl-color-gray-2);
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-serif);
  color: var(--sl-color-black);
}

/* Heading anchor links should be visible */
.sl-markdown-content :is(h1, h2, h3, h4, h5, h6) a {
  color: var(--sl-color-black);
}

.sl-markdown-content :is(h1, h2, h3, h4, h5, h6) a:hover {
  color: var(--sl-color-accent);
}

/* ==============================================
   SPLASH PAGE FIXES
   Force dark text on light background for splash template
   ============================================== */

/* All content after hero should have dark text */
[data-has-hero] .sl-markdown-content,
.content-panel .sl-markdown-content {
  color: var(--sl-color-black);
}

/* Headings in splash content - ensure visibility */
[data-has-hero] h2,
[data-has-hero] h3,
[data-has-hero] h4,
.content-panel h2,
.content-panel h3,
.content-panel h4 {
  color: var(--sl-color-black);
}

/* Heading anchor text inside splash pages */
[data-has-hero] :is(h2, h3, h4) a,
.content-panel :is(h2, h3, h4) a {
  color: var(--sl-color-black);
}

/* Paragraph and list text */
[data-has-hero] p,
[data-has-hero] li,
[data-has-hero] td,
[data-has-hero] th,
.content-panel p,
.content-panel li,
.content-panel td,
.content-panel th {
  color: var(--sl-color-black);
}

/* Small/muted text should be gray, not invisible */
[data-has-hero] small,
.content-panel small {
  color: var(--sl-color-gray-5);
}

a {
  color: var(--color-link);
}

/* ==============================================
   HERO FIXES
   ============================================== */

/* Hero title - dark text on light background */
.hero h1 {
  color: var(--sl-color-black);
}

/* Hero tagline - readable gray on light background */
.hero .tagline {
  color: var(--sl-color-gray-6);
}

/* Primary action button - white text on accent */
.sl-link-button.primary,
.action.primary {
  background-color: var(--sl-color-accent);
  border-color: var(--sl-color-accent);
  color: var(--sl-color-white);
}

.sl-link-button.primary:hover,
.action.primary:hover {
  background-color: var(--sl-color-accent-high);
  border-color: var(--sl-color-accent-high);
  color: var(--sl-color-white);
}

/* Secondary action button */
.sl-link-button.secondary,
.action.secondary,
.action.minimal {
  background-color: transparent;
  border-color: var(--sl-color-gray-3);
  color: var(--sl-color-text);
}

.sl-link-button.secondary:hover,
.action.secondary:hover,
.action.minimal:hover {
  border-color: var(--sl-color-accent);
  color: var(--sl-color-accent);
}

/* ==============================================
   HEADER FIXES
   ============================================== */

/* Site title should be dark, not link blue - use high specificity */
header .site-title,
header .site-title a,
.header .site-title,
.header .site-title a {
  color: var(--sl-color-black);
}

header .site-title:hover,
header .site-title a:hover,
.header .site-title:hover,
.header .site-title a:hover {
  color: var(--sl-color-accent);
}

/* Make search icon more visible
   Starlight uses --sl-color-gray-1 for button color which is too light on white bg
   Unlayered CSS wins over Starlight's layered CSS */
site-search button[data-open-modal] {
  color: var(--sl-color-gray-5);
}

site-search button[data-open-modal]:hover {
  color: var(--sl-color-accent);
}

/* ==============================================
   LAYOUT
   ============================================== */

/* Hide theme toggle everywhere */
starlight-theme-select {
  display: none;
}

/* ==============================================
   SIDEBAR
   ============================================== */

/* Hide sidebar only on homepage (splash page) */
[data-has-hero] .sidebar,
[data-has-hero] nav[aria-label="Main"] {
  display: none;
}

/* Content pages: sidebar is visible (Starlight default) */
