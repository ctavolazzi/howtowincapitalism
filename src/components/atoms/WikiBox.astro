---
/**
 * @fileoverview WikiBox atom - the foundational container component.
 *
 * The base building block for all box-style components in the wiki.
 * All colors/spacing come from CSS custom properties (single source of truth).
 *
 * Design Patterns:
 * - Composite: Base building block for molecules
 * - Strategy: Variants for different styles
 * - Template Method: Slots for customization
 *
 * ## Variants
 * - `default`: Standard bordered box
 * - `warning`: Yellow/amber alert styling
 * - `info`: Blue informational styling
 * - `sidebar`: Floating sidebar styling
 * - `nav`: Navigation section styling
 * - `cta`: Call-to-action promotional styling
 *
 * ## Slots
 * - `default`: Main content
 * - `header-icon`: Icon before title
 * - `header-actions`: Actions after title
 * - `footer`: Footer content
 *
 * @module components/atoms/WikiBox
 * @see {@link module:components/molecules/InfoBox} - Uses WikiBox
 * @see {@link module:components/molecules/NoteBox} - Uses WikiBox
 *
 * @example
 * ```astro
 * <WikiBox variant="info" title="Note">
 *   <p>Content here</p>
 * </WikiBox>
 * ```
 *
 * @author How To Win Capitalism Team
 * @since 1.0.0
 */
import { debug } from '../../lib/debug';

export interface Props {
  variant?: 'default' | 'warning' | 'info' | 'sidebar' | 'nav' | 'cta';
  title?: string;
  class?: string;
  id?: string;
  padding?: 'none' | 'sm' | 'md' | 'lg';
}

const {
  variant = 'default',
  title,
  class: className,
  id,
  padding = 'md'
} = Astro.props;

debug.log('components', 'WikiBox rendering', {
  variant,
  title: title ?? '(no title)',
  id: id ?? '(no id)',
  padding,
});

// Compose classes (clean approach)
const boxClasses = [
  'wiki-box',
  `wiki-box--${variant}`,
  `wiki-box--padding-${padding}`,
  className
].filter(Boolean).join(' ');
---

<div class={boxClasses} id={id}>
  {title && (
    <header class="wiki-box__header">
      <slot name="header-icon" />
      <span class="wiki-box__title">{title}</span>
      <slot name="header-actions" />
    </header>
  )}
  <div class="wiki-box__body">
    <slot />
  </div>
  <slot name="footer" />
</div>

<!-- Styles in Base.astro -->
