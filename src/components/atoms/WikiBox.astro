---
/**
 * WIKIBOX - THE ATOM
 *
 * Design Patterns:
 * - Composite: Base building block
 * - Strategy: Variants for different styles
 * - Template Method: Slots for customization
 *
 * All colors/spacing come from CSS custom properties (single source of truth).
 */
import { debug } from '../../lib/debug';

export interface Props {
  variant?: 'default' | 'warning' | 'info' | 'sidebar' | 'nav' | 'cta';
  title?: string;
  class?: string;
  id?: string;
  padding?: 'none' | 'sm' | 'md' | 'lg';
}

const {
  variant = 'default',
  title,
  class: className,
  id,
  padding = 'md'
} = Astro.props;

debug.log('components', 'WikiBox rendering', {
  variant,
  title: title ?? '(no title)',
  id: id ?? '(no id)',
  padding,
});

// Compose classes (clean approach)
const boxClasses = [
  'wiki-box',
  `wiki-box--${variant}`,
  `wiki-box--padding-${padding}`,
  className
].filter(Boolean).join(' ');
---

<div class={boxClasses} id={id}>
  {title && (
    <header class="wiki-box__header">
      <slot name="header-icon" />
      <span class="wiki-box__title">{title}</span>
      <slot name="header-actions" />
    </header>
  )}
  <div class="wiki-box__body">
    <slot />
  </div>
  <slot name="footer" />
</div>

<!-- Styles in Base.astro -->
