---
/**
 * @fileoverview SeeAlso molecule for related content links.
 *
 * Wikipedia-style "See also" section for linking related content.
 * Common wiki pattern for discovery and navigation with optional descriptions.
 *
 * Design Patterns:
 * - Related Content: Surface related articles
 * - Progressive Disclosure: Optional expanded info
 *
 * @module components/molecules/SeeAlso
 *
 * @example
 * ```astro
 * <SeeAlso links={[
 *   { title: "Introduction", href: "/protocol/introduction/" },
 *   { title: "Decision Matrix", href: "/protocol/decision-matrix/", description: "Tool for comparing options" }
 * ]} />
 * ```
 *
 * @author How To Win Capitalism Team
 * @since 1.0.0
 */
import { debug } from '../../lib/debug';

export interface SeeAlsoLink {
  /** Link title */
  title: string;
  /** Link destination */
  href: string;
  /** Optional description */
  description?: string;
}

export interface Props {
  /** Array of related links */
  links: SeeAlsoLink[];
  /** Section title */
  title?: string;
  /** Optional CSS class */
  class?: string;
}

const {
  links,
  title = 'See also',
  class: className
} = Astro.props;

debug.log('components', 'SeeAlso rendering', {
  title,
  linkCount: links?.length ?? 0,
  links: links?.map(l => l.title) ?? [],
});

if (!links || links.length === 0) {
  debug.warn('components', 'SeeAlso has no links, returning null');
  return null;
}

const sectionClasses = ['see-also', className].filter(Boolean).join(' ');
---

<section class={sectionClasses}>
  <h2 class="see-also__title">{title}</h2>
  <ul class="see-also__list">
    {links.map(link => (
      <li class="see-also__item">
        <a href={link.href} class="see-also__link">{link.title}</a>
        {link.description && (
          <span class="see-also__description"> â€” {link.description}</span>
        )}
      </li>
    ))}
  </ul>
</section>

<!-- Styles in Base.astro -->
